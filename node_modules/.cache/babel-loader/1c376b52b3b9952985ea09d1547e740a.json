{"ast":null,"code":"var _jsxFileName = \"/Users/laurendoss/Desktop/Projects/Scout2/scout-pdx/Scout2/src/components/Signin/Signin.js\";\nimport React from \"react\";\nimport * as api from \"../../api\"; // import './style.css'\n\nimport { UserContext } from \"../../utils/UserContext\";\nimport { USER_SIGNIN, ERR_SIGNIN } from \"../../utils/actions\";\nimport \"./Signin.css\";\n\nfunction Signin(props) {\n  const {\n    dispatch\n  } = React.useContext(UserContext);\n  const initialState = {\n    email: \"\",\n    password: \"\",\n    user_type: \"\",\n    signinError: {}\n  };\n  const [user, setUser] = React.useState(initialState);\n\n  const handleInputChange = event => {\n    const target = event.target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    setUser({ ...user,\n      [event.target.name]: value\n    });\n  };\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n\n    if (user.email && user.password) {\n      try {\n        const email = user.email;\n        const password = user.password;\n        const user_type = user.user_type;\n        const payload = {\n          email,\n          password,\n          user_type\n        };\n        const {\n          data\n        } = await api.signin(payload);\n        dispatch({\n          type: USER_SIGNIN,\n          payload: data.user,\n          token: data.token\n        });\n        const {\n          from\n        } = props.location.state || {\n          from: {\n            pathname: \"/\"\n          }\n        };\n        props.history.push(from.pathname);\n      } catch (error) {\n        console.log(error);\n\n        if (error.response) {\n          const {\n            data\n          } = error.response;\n          setUser({ ...user,\n            signinError: data\n          });\n          dispatch({\n            type: ERR_SIGNIN,\n            error: data\n          });\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tabBorder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"Header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"sign in to scout\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    id: \"Form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"LabelEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"Span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \" * \"), /*#__PURE__*/React.createElement(\"span\", {\n    style: style.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, user.signinError.email)), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"email\",\n    type: \"email\",\n    value: user.email,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"LabelPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"Span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \" * \"), /*#__PURE__*/React.createElement(\"span\", {\n    style: style.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, user.signinError.password)), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    value: user.password,\n    onChange: handleInputChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    id: \"SubmitButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  })));\n}\n\nconst style = {\n  error: {\n    color: \"red\"\n  }\n};\nexport default Signin;","map":{"version":3,"sources":["/Users/laurendoss/Desktop/Projects/Scout2/scout-pdx/Scout2/src/components/Signin/Signin.js"],"names":["React","api","UserContext","USER_SIGNIN","ERR_SIGNIN","Signin","props","dispatch","useContext","initialState","email","password","user_type","signinError","user","setUser","useState","handleInputChange","event","target","value","type","checked","name","handleFormSubmit","preventDefault","payload","data","signin","token","from","location","state","pathname","history","push","error","console","log","response","style","color"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as api from \"../../api\";\n// import './style.css'\nimport { UserContext } from \"../../utils/UserContext\";\nimport { USER_SIGNIN, ERR_SIGNIN } from \"../../utils/actions\";\nimport \"./Signin.css\"\n\n\nfunction Signin(props) {\n  const { dispatch } = React.useContext(UserContext);\n  const initialState = {\n    email: \"\",\n    password: \"\",\n    user_type: \"\",\n    signinError: {}\n  };\n  const [user, setUser] = React.useState(initialState);\n\n  const handleInputChange = event => {\n    const target = event.target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    setUser({\n      ...user,\n      [event.target.name]: value\n    });\n  };\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    if (user.email && user.password) {\n      try {\n        const email = user.email;\n        const password = user.password;\n        const user_type = user.user_type;\n        const payload = { email, password, user_type };\n        const { data } = await api.signin(payload);\n        dispatch({ type: USER_SIGNIN, payload: data.user, token: data.token });\n        const { from } = props.location.state || {\n          from: { pathname: \"/\" }\n        };\n        props.history.push(from.pathname);\n      } catch (error) {\n        console.log(error);\n        if (error.response) {\n          const { data } = error.response;\n          setUser({ ...user, signinError: data });\n          dispatch({ type: ERR_SIGNIN, error: data });\n        }\n      }\n    }\n  };\n\n  return (\n    <div className=\"tabBorder\">\n    \n      <h3 id=\"Header\">sign in to scout</h3>\n      \n      <form onSubmit={handleFormSubmit} id=\"Form\">\n\n\n        <div className=\"Input\">\n          <div>\n            <label id=\"LabelEmail\">Email Address</label>\n            <span className=\"Span\"> * </span>\n            <span style={style.error}>{user.signinError.email}</span>\n          </div>\n\n          <input\n            name=\"email\"\n            type=\"email\"\n            value={user.email}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n\n        <div className=\"Input\">\n          <div>\n            <label id=\"LabelPassword\">Password</label>\n            <span className=\"Span\"> * </span>\n            <span style={style.error}>{user.signinError.password}</span>\n          </div>\n\n          <input\n            name=\"password\"\n            type=\"password\"\n            value={user.password}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n\n        <input type=\"submit\" value=\"Submit\" id=\"SubmitButton\" />\n      </form>\n    </div>\n  );\n}\n\nconst style = {\n  error: {\n    color: \"red\"\n  }\n};\n\nexport default Signin;\n"]},"metadata":{},"sourceType":"module"}